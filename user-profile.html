<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
    />
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"
    ></script>

    <!-- favicon -->
    <link rel="icon" href="favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />

    <!-- CSS -->
    <link rel="stylesheet" href="index-style.css" />
    <link rel="stylesheet" href="project-services.css" />
    <style>
      .profile-section {
        background-color: #efead8;
      }
      .profile-container {
        margin-top: 9%;
      }

      #user-mainFooter {
        background: #285430;

        padding-top: 3rem;
        color: white;
      }
    </style>
    <title>User Profile</title>
  </head>
  <body>
    <!-- Navbar -->
    <section>
      <nav class="navbar fixed-top navbar-expand-md navbar-dark p-md-3">
        <div class="container-fluid">
          <!-- LOGO -->
          <a class="navbar-brand text-black text-bold" href="index.html"
            ><img
              class="logo"
              style="height: 80px"
              src="main_assets/mjm logo dark-green.png"
              alt="logo"
          /></a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon bg-success"></span>
          </button>

          <!-- Navbar Menu -->
          <div
            class="collapse navbar-collapse justify-content-end"
            id="navbarNav"
          >
            <ul class="navbar-nav">
              <li class="nav-item position-relative">
                <a class="nav-link px-1 text-black" href="index.html">HOME</a>
              </li>
              <li class="nav-item position-relative project-dropdown">
                <a class="nav-link px-1 text-black" href="project-services.html"
                  >PROJECTS</a
                >
                <!-- Project dropdown -->
                <div class="project-link projecttab">
                  <ul class="">
                    <li class="nav-item list-unstyled">
                      <a class="nav-link text-black p-0" href="project1.html"
                        ><span class="hover-underline-animation"
                          >Ginama Project</span
                        ></a
                      >
                    </li>
                    <li class="nav-item list-unstyled">
                      <a class="nav-link text-black p-0" href="project2.html"
                        ><span class="hover-underline-animation"
                          >Nunez Project</span
                        ></a
                      >
                    </li>
                    <li class="nav-item list-unstyled">
                      <a class="nav-link text-black p-0" href="project3.html"
                        ><span class="hover-underline-animation"
                          >Castro Project</span
                        ></a
                      >
                    </li>
                    <li class="nav-item list-unstyled">
                      <a class="nav-link text-black p-0" href="project4.html"
                        ><span class="hover-underline-animation"
                          >Coffeeshop Project</span
                        ></a
                      >
                    </li>
                  </ul>
                </div>
              </li>

              <li class="nav-item px-1 position-relative project-dropdown">
                <a class="nav-link text-black" href="digital-products.html">
                  DIGITAL PRODUCTS</a
                >
                <!-- Products dropdown -->
                <div class="project-link digitab">
                  <ul class="">
                    <li class="nav-item list-unstyled">
                      <a
                        class="nav-link text-black p-0"
                        href="digital-products.html"
                        ><span class="hover-underline-animation"
                          >Digital Planners</span
                        ></a
                      >
                    </li>
                    <li class="nav-item list-unstyled">
                      <a
                        class="nav-link text-black p-0"
                        href="illustrations page.html"
                        ><span class="hover-underline-animation"
                          >Illustrations</span
                        ></a
                      >
                    </li>
                    <li class="nav-item list-unstyled">
                      <a class="nav-link text-black p-0" href="commissions.html"
                        ><span class="hover-underline-animation"
                          >Commissions</span
                        ></a
                      >
                    </li>
                  </ul>
                </div>
              </li>

              <li class="nav-item px-1 position-relative project-dropdown">
                <a
                  class="nav-link text-black"
                  href="./project-services.html?redirect=aboutMe"
                  >ABOUT</a
                >
                <!-- About dropdown -->
                <div class="project-link abouttab">
                  <ul class="">
                    <li class="nav-item list-unstyled">
                      <a
                        class="nav-link text-black p-0"
                        href="./project-services.html?redirect=aboutMe"
                        ><span class="hover-underline-animation">Who</span></a
                      >
                    </li>
                    <li class="nav-item list-unstyled">
                      <a
                        class="nav-link text-black p-0"
                        href="./project-services.html?redirect=services"
                        ><span class="hover-underline-animation"
                          >Services</span
                        ></a
                      >
                    </li>
                    <li class="nav-item list-unstyled">
                      <a
                        class="nav-link text-black p-0"
                        href="./project-services.html?redirect=contact"
                        ><span class="hover-underline-animation"
                          >Contact</span
                        ></a
                      >
                    </li>
                  </ul>
                </div>
              </li>
              <li class="nav-item position-relative project-dropdown">
                <a
                  class="btn text-uppercase"
                  id="userName"
                  href="user-profile.html"
                  >ACCOUNT</a
                >
                <!-- Account dropdown -->
                <div class="project-link">
                  <ul class="">
                    <li
                      class="nav-item list-unstyled navLogOut"
                      id="logoutHandler"
                    ></li>
                    <li class="nav-item list-unstyled removeLogin">
                      <a class="nav-link text-black p-0" href="Login-page.html"
                        ><span class="hover-underline-animation">Login</span></a
                      >
                    </li>
                    <li class="nav-item list-unstyled removeRegister">
                      <a
                        class="nav-link text-black p-0"
                        href="register-page.html"
                        ><span class="hover-underline-animation"
                          >Register</span
                        ></a
                      >
                    </li>
                  </ul>
                </div>
              </li>
              <li class="nav-item">
                <a
                  class="btn btncolor rounded-0"
                  type="button"
                  data-bs-toggle="offcanvas"
                  data-bs-target="#offcanvasRight"
                  aria-controls="offcanvasRight"
                  href="#"
                >
                  CART (<span class="total-items-in-cart"></span>)</a
                >
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </section>

    <!-- User profile -->
    <section class="profile-section p-5">
      <div class="profile-container container">
        <div>
          <a
            class="btn btn-link text-black px-0 mb-4 logout-button"
            href=""
            id="logoutHandler1"
            >LOGOUT</a
          >
        </div>
        <div class="mb-4"><h3>MY ACCOUNT</h3></div>
        <div class="mb-5">
          <p>
            Welcome back,<span
              class="mx-2 text-uppercase"
              id="userName1"
            ></span>
          </p>
        </div>
        <div>
          <h6>PRIMARY ADDRESS</h6>
          <hr class="w-50" />
          <p id="firstName">Name:</p>
          <p id="lastName">Lastname:</p>
          <p id="emailAdd">Email:</p>
          <p>Phone: <span id="phone"></span></p>
          <p>Address: <span id="myAddress"></span></p>
        </div>
        <div>
          <button
            class="btn btncolor rounded-0"
            data-bs-toggle="modal"
            data-bs-target="#exampleModal"
          >
            EDIT ADDRESS
          </button>
        </div>
      </div>
    </section>

    <!-- Modal form -->
    <div class="modal" id="exampleModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Edit Address</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <!-- Modal form -->
            <form
              action=""
              id="editForm"
              class="login-forms needs-validation"
              novalidate
            >
              <!-- <div class="form-floating mb-3">
                <input
                  type="text"
                  class="form-control rounded-0"
                  id="editFirstName"
                  placeholder="First name"
                  required
                />
                <label for="floatingInputfname">First name</label>
              </div> -->
              <!-- <div class="form-floating mb-3">
                <input
                  type="text"
                  class="form-control rounded-0"
                  id="editLastName"
                  placeholder="Last name"
                  required
                />
                <label for="floatingInputlastname">Last name</label>
              </div> -->
              <div class="form-floating mb-3">
                <input
                  type="number"
                  class="form-control rounded-0"
                  id="editPhone"
                  placeholder="name@example.com"
                  required
                />
                <label for="floatingInputemail">Phone</label>
              </div>
              <div class="form-floating mb-3">
                <input
                  type="text"
                  class="form-control rounded-0"
                  id="editMyAddress"
                  placeholder="Address"
                  required
                />
                <label for="floatingAddress">Address</label>
              </div>

              <div class="d-grid">
                <button
                  class="btn btncolor mb-3 buttonregister rounded-0"
                  type="submit"
                  id="editAddressHandler"
                >
                  ADD A NEW ADDRESS
                </button>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Add to cart -->
    <section>
      <div
        class="offcanvas offcanvas-end"
        tabindex="-1"
        id="offcanvasRight"
        aria-labelledby="offcanvasRightLabel"
      >
        <div class="offcanvas-header">
          <h3 class="offcanvas-title" id="offcanvasRightLabel">CART</h3>

          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="offcanvas"
            aria-label="Close"
          ></button>
        </div>
        <hr class="mt-0" />

        <div class="offcanvas-body">
          <div class="cart-items">
            <!-- render cart items here -->
          </div>
          <div class="cartEmpty text-center">
            <!-- render cartEmpty text here -->
          </div>
        </div>
        <hr />
        <div class="offcanvas-bottom subtotal">
          <!-- render subtotal here -->
        </div>
        <div class="offcanvas-bottom checkOut">
          <!-- render checkout button here -->
        </div>
      </div>
    </section>

    <!-- footer -->
    <section id="user-mainFooter">
      <div class="container-fluid p-4">
        <div class="row d-flex justify-content">
          <!-- contact details -->
          <div class="contacts col-lg-4 mb-4 mb-md-0">
            <p class="">CONTACT</p>
            <p class="m-0">1111 - 222 - 333</p>
            <p class="m-0">ar.mjoenaren@gmail.com</p>
            <p class="m-0">Brgy. Kausawagan</p>
            <p class="m-0">Cagayan de Oro City</p>
            <p>Misamis Oriental, 9000</p>

            <!-- social media -->
            <div id="socialLinks">
              <a
                class="nav-link pinterest"
                href="https://www.pinterest.ph/mariejoenarenm/"
              >
                <i class="bi bi-pinterest"></i>
              </a>

              <a
                class="nav-link instagram"
                href="https://www.instagram.com/ar.mjnm_designs/"
              >
                <i class="bi bi-instagram"></i>
              </a>

              <a
                class="nav-link linkedin"
                href="https://www.linkedin.com/in/marie- joenaren-m-833101151/"
              >
                <i class="bi bi-linkedin"></i>
              </a>

              <a class="nav-link whatsapp" href="#">
                <i class="bi bi-whatsapp"></i>
              </a>

              <a
                class="nav-link youtube"
                href="https://www.youtube.com/channel/UCYPWdxnxQh6GrL1i4rXDdkg"
              >
                <i class="bi bi-youtube"></i>
              </a>
            </div>

            <!-- index logo -->
            <div class="indexLogo">
              <img
                class="footerLogo"
                src="main_assets/mjm logo light.png"
                alt="mjm logo"
              />
            </div>
          </div>

          <!-- quick links -->
          <div class="qLinks col-lg-4 mb-4 mb-md-0">
            <p>LINKS</p>
            <ul class="list-unstyled">
              <li class="nav-item">
                <a class="nav-link" href="./project-services.html?redirect=aboutMe"><p>about me</p></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="project-services.html"><p>works</p></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./project-services.html?redirect=services"><p>services</p></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="digital-products.html"><p>digital products</p></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#!"><p>payments</p></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#!"><p>FAQs</p></a>
              </li>
            </ul>
          </div>

          <!-- newsletter -->
          <div class="col-lg-4 mb-4 mb-md-0">
            <form action="">
              <p>NEWSLETTER</p>

              <ul class="list-unstyled">
                <li>
                  <p class="m-0">Subscribe to receive updates, access to</p>
                  <p class="mt-0">promo codes, and more!</p>
                </li>

                <li class="mb-3">
                  <input
                    class="p-2 w-75 rounded-0"
                    type="email"
                    placeholder="enter your email"
                    id="emailInput"
                  />
                </li>
                <li>
                  <button
                    type="submit"
                    id="sendEmailHandler"
                    class="btn btncolor rounded-0 w-75"
                  >
                    SUBSCRIBE
                  </button>
                </li>
              </ul>
            </form>

            <!-- terms and policies -->
            <div class="termsAndPolicies">
              <ul class="list-unstyled">
                <li class="nav-item">
                  <a class="nav-link" href="#"> Terms and Conditions </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link policy" href="#"> Privacy Policies </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- JS -->
    <script>
      // navbar show when scroll up
      var prevScrollpos = window.pageYOffset;

      window.onscroll = function () {
        var currentScrollPos = window.pageYOffset;
        if (prevScrollpos > currentScrollPos) {
          document.querySelector("nav").style.top = "0";
        } else {
          document.querySelector("nav").style.top = "-7.2rem";
        }
        prevScrollpos = currentScrollPos;
      };

      // Validation
      (() => {
        "use strict";

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        const forms = document.querySelectorAll(".needs-validation");

        // Loop over them and prevent submission
        Array.from(forms).forEach((form) => {
          form.addEventListener(
            "submit",
            (event) => {
              if (!form.checkValidity()) {
                event.preventDefault();
                event.stopPropagation();
              }

              form.classList.add("was-validated");
            },
            false
          );
        });
      })();

      // usernameDashboard
      const usernameDashboard = document.getElementById("userName");
      const usernameDashboard1 = document.getElementById("userName1");
      const firstName = document.getElementById("firstName");
      const lastName = document.getElementById("lastName");
      const emailAdd = document.getElementById("emailAdd");
      const user = JSON.parse(localStorage.getItem("userInfo"));
      const logoutHandler = document.getElementById("logoutHandler");
      const logoutHandler1 = document.getElementById("logoutHandler1");
      const navLogOut = document.querySelector(".navLogOut");
      const removeLogin = document.querySelector(".removeLogin");
      const removeRegister = document.querySelector(".removeRegister");

      let userData = user.find((data) => {
        return data.isLoggedIn === true;
      });

      usernameDashboard.innerHTML = userData
        ? `<i class="bi bi-person-circle"></i> ${userData.firstName}`
        : "";

      navLogOut.innerHTML = `<a class="nav-link text-black p-0" href="Login-page.html"
                        ><span class="hover-underline-animation">Logout</span></a
                      >`;
      removeLogin.innerHTML = "";
      removeRegister.innerHTML = "";

      if (userData) {
        usernameDashboard1.innerHTML = `${userData.firstName}`;
        firstName.innerHTML = `Name: ${userData.firstName}`;
        lastName.innerHTML = `Lastname: ${userData.lastName}`;
        emailAdd.innerHTML = `Email: ${userData.email}`;
      }

      logoutHandler.addEventListener("click", (e) => {
        e.preventDefault();

        let newData = user.map((data) => {
          if (data.isLoggedIn === true) {
            return { ...userData, isLoggedIn: false };
          } else {
            return data;
          }
        });

        localStorage.setItem("userInfo", JSON.stringify(newData));

        window.location.href = "index.html";
      });

      logoutHandler1.addEventListener("click", (e) => {
        e.preventDefault();

        let newData = user.map((data) => {
          if (data.isLoggedIn === true) {
            return { ...userData, isLoggedIn: false };
          } else {
            return data;
          }
        });

        localStorage.setItem("userInfo", JSON.stringify(newData));

        window.location.href = "index.html";
      });
    </script>

    <script src="products.js"></script>
    <script src="user-profile.js"></script>
    <script src="render.js"></script>
    <script
      src="//code.tidio.co/hwlo38gqpbu0sakmysea9melyanvyzud.js"
      async
    ></script>
    <script src="sendEmail.js"></script>
  </body>
</html>
